diff -ru contrib/libgo-10be92754f6dbbd51b390bfdc9250f2b4370d9cb/src/lib/gcc/libgo/configure inno/libgo/configure
--- contrib/libgo-10be92754f6dbbd51b390bfdc9250f2b4370d9cb/src/lib/gcc/libgo/configure	2018-06-22 17:25:34.000000000 +0300
+++ inno/libgo/configure	2020-07-24 14:17:39.000000000 +0300
@@ -658,6 +658,8 @@
 LIBGO_IS_FREEBSD_TRUE
 LIBGO_IS_DARWIN_FALSE
 LIBGO_IS_DARWIN_TRUE
+LIBGO_IS_INNO_FALSE
+LIBGO_IS_INNO_TRUE
 go_include
 LIBATOMIC
 USE_LIBFFI_FALSE
@@ -13388,7 +13390,7 @@
 done
 
 
-WARN_FLAGS='-Wall -Wextra -Wwrite-strings -Wcast-qual'
+WARN_FLAGS='-Wall -Wextra -Wwrite-strings'
 
 
 # Check whether --enable-werror was given.
@@ -13509,7 +13511,7 @@
 # All known GOOS values.  This is the union of all operating systems
 # supported by the gofrontend and all operating systems supported by
 # the gc toolchain.
-ALLGOOS="aix android darwin dragonfly freebsd irix linux netbsd openbsd plan9 rtems solaris windows"
+ALLGOOS="aix android darwin dragonfly freebsd irix linux openbsd plan9 rtems inno solaris windows"
 
 is_darwin=no
 is_freebsd=no
@@ -13521,9 +13523,11 @@
 is_rtems=no
 is_solaris=no
 is_aix=no
+is_inno=no
 GOOS=unknown
 case ${host} in
   *-*-darwin*)   is_darwin=yes;  GOOS=darwin ;;
+  x86_64-pc-elf)  is_inno=yes; GOOS=inno ;;
   *-*-freebsd*)  is_freebsd=yes; GOOS=freebsd ;;
   *-*-irix6*)    is_irix=yes;    GOOS=irix ;;
   *-*-linux*)    is_linux=yes;   GOOS=linux ;;
@@ -13534,6 +13538,14 @@
   *-*-solaris2*) is_solaris=yes; GOOS=solaris ;;
   *-*-aix*)      is_aix=yes;     GOOS=aix ;;
 esac
+ if test $is_inno = yes; then
+  LIBGO_IS_INNO_TRUE=
+  LIBGO_IS_INNO_FALSE='#'
+else
+  LIBGO_IS_INNO_TRUE='#'
+  LIBGO_IS_INNO_FALSE=
+fi
+
  if test $is_darwin = yes; then
   LIBGO_IS_DARWIN_TRUE=
   LIBGO_IS_DARWIN_FALSE='#'
@@ -15648,6 +15660,10 @@
   as_fn_error "conditional \"LIBGO_IS_DARWIN\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${LIBGO_IS_INNO_TRUE}" && test -z "${LIBGO_IS_INNO_FALSE}"; then
+  as_fn_error "conditional \"LIBGO_IS_INNO\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${LIBGO_IS_FREEBSD_TRUE}" && test -z "${LIBGO_IS_FREEBSD_FALSE}"; then
   as_fn_error "conditional \"LIBGO_IS_FREEBSD\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
diff -ru contrib/libgo-10be92754f6dbbd51b390bfdc9250f2b4370d9cb/src/lib/gcc/libgo/mkrsysinfo.sh inno/libgo/mkrsysinfo.sh
--- contrib/libgo-10be92754f6dbbd51b390bfdc9250f2b4370d9cb/src/lib/gcc/libgo/mkrsysinfo.sh	2017-11-14 17:26:04.000000000 +0300
+++ inno/libgo/mkrsysinfo.sh	2020-06-23 01:18:02.000000000 +0300
@@ -16,7 +16,15 @@
 # represented in Go and ones which we need to rewrite.  We also skip
 # function declarations, as we don't need them here.  All the symbols
 # will all have a leading underscore.
+
+# The fix for GO language generation of stubs (problem with forward declaration/etc
+# remove bad lines generated by gccgo as bug in -fdump-... generation and add it to the end of file below
 grep -v '^// ' gen-sysinfo.go | \
+  grep -v '^type _cmsghdr _cmsghdr' | \
+  grep -v '^type _mqd_t \*___mq' | \
+  grep -v '^type ___pthread_t \*_pthread' | \
+  grep -v '^type _timer_t \*___timer' | \
+  grep -v '^type ___gnuc_va_list \[0+1\]___va_list_tag' | \
   grep -v '^func' | \
   grep -v '^var ' | \
   grep -v '^type _timeval ' | \
@@ -198,3 +206,20 @@
     sed -e s'/_kevent/keventt/' \
       -e 's/ udata [^;}]*/ udata *byte/' \
     >> ${OUT}
+
+# The fix for GO language generation of stubs (problem with forward declaration/etc
+grep '^type _cmsghdr _cmsghdr' gen-sysinfo.go | \
+    sed -e 's/type _cmsghdr _cmsghdr/type _cmsghdr struct { cmsg_len uint32; cmsg_level int32; cmsg_type int32; }/' \
+    >> ${OUT}
+grep '^type _mqd_t \*___mq' gen-sysinfo.go | \
+    sed -e 's/type _mqd_t \*___mq/type _mqd_t *struct { }/' \
+    >> ${OUT}
+grep '^type _timer_t \*___timer' gen-sysinfo.go | \
+    sed -e 's/type _timer_t \*___timer/type _timer_t *struct { }/' \
+    >> ${OUT}
+grep '^type ___pthread_t \*_pthread' gen-sysinfo.go | \
+    sed -e 's/type ___pthread_t \*_pthread/type ___pthread_t *struct { }/' \
+    >> ${OUT}
+grep '^type ___gnuc_va_list \[0+1\]___va_list_tag' gen-sysinfo.go | \
+    sed -e 's/type ___gnuc_va_list \[0+1\]___va_list_tag/type ___gnuc_va_list [0+1]struct { gp_offset uint32; fp_offset uint32; overflow_arg_area *byte; reg_save_area *byte; }/' \
+    >> ${OUT}
diff -ru contrib/libgo-10be92754f6dbbd51b390bfdc9250f2b4370d9cb/src/lib/gcc/libgo/mksysinfo.sh inno/libgo/mksysinfo.sh
--- contrib/libgo-10be92754f6dbbd51b390bfdc9250f2b4370d9cb/src/lib/gcc/libgo/mksysinfo.sh	2018-11-09 18:29:52.000000000 +0300
+++ inno/libgo/mksysinfo.sh	2020-06-23 01:18:02.000000000 +0300
@@ -28,6 +28,11 @@
 # function declarations, as we don't need them here.  All the symbols
 # will all have a leading underscore.
 grep -v '^// ' gen-sysinfo.go | \
+  grep -v '^type _cmsghdr _cmsghdr' | \
+  grep -v '^type _mqd_t \*___mq' | \
+  grep -v '^type ___pthread_t \*_pthread' | \
+  grep -v '^type _timer_t \*___timer' | \
+  grep -v '^type ___gnuc_va_list \[0+1\]___va_list_tag' | \
   grep -v '^func' | \
   grep -v '^type _timeval ' | \
   grep -v '^type _timespec_t ' | \
@@ -576,8 +581,13 @@
 grep '^const _MSG_' gen-sysinfo.go | \
   sed -e 's/^\(const \)_\(MSG_[^= ]*\)\(.*\)$/\1\2 = _\2/' >> ${OUT}
 
+# The fix for GO language generation of stubs (problem with forward declaration/etc
+grep '^type _cmsghdr _cmsghdr' gen-sysinfo.go | \
+    sed -e 's/type _cmsghdr _cmsghdr/type _cmsghdr struct { cmsg_len uint32; cmsg_level int32; cmsg_type int32; }/' \
+    >> ${OUT}
 # The cmsghdr struct.
-cmsghdr=`grep '^type _cmsghdr ' gen-sysinfo.go`
+#cmsghdr=`grep '^type _cmsghdr ' gen-sysinfo.go`
+cmsghdr=`grep '^type _cmsghdr ' ${OUT}`
 if test -n "$cmsghdr"; then
   cmsghdr_len=`echo $cmsghdr | sed -n -e 's/^.*cmsg_len \([^ ]*\);.*$/\1/p'`
   echo "type Cmsghdr_len_t $cmsghdr_len" >> ${OUT}
@@ -1332,4 +1342,18 @@
     sed -e 's/_in6_addr_t/[16]byte/g' \
     >> ${OUT}
 
+# The fix for GO language generation of stubs (problem with forward declaration/etc
+grep '^type _mqd_t \*___mq' gen-sysinfo.go | \
+    sed -e 's/type _mqd_t \*___mq/type _mqd_t *struct { }/' \
+    >> ${OUT}
+grep '^type _timer_t \*___timer' gen-sysinfo.go | \
+    sed -e 's/type _timer_t \*___timer/type _timer_t *struct { }/' \
+    >> ${OUT}
+grep '^type ___pthread_t \*_pthread' gen-sysinfo.go | \
+    sed -e 's/type ___pthread_t \*_pthread/type ___pthread_t *struct { }/' \
+    >> ${OUT}
+grep '^type ___gnuc_va_list \[0+1\]___va_list_tag' gen-sysinfo.go | \
+    sed -e 's/type ___gnuc_va_list \[0+1\]___va_list_tag/type ___gnuc_va_list [0+1]struct { gp_offset uint32; fp_offset uint32; overflow_arg_area *byte; reg_save_area *byte; }/' \
+    >> ${OUT}
+
 exit $?
diff -ru contrib/libgo-10be92754f6dbbd51b390bfdc9250f2b4370d9cb/src/lib/gcc/libgo/Makefile.in inno/libgo/Makefile.in
--- contrib/libgo-10be92754f6dbbd51b390bfdc9250f2b4370d9cb/src/lib/gcc/libgo/Makefile.in	2018-06-01 01:46:52.000000000 +0300
+++ inno/libgo/Makefile.in	2020-07-24 15:34:59.000000000 +0300
@@ -186,15 +186,16 @@
 	$(am__DEPENDENCIES_3) $(am__DEPENDENCIES_3)
 libgo_llgo_la_DEPENDENCIES = $(am__DEPENDENCIES_4)
 @LIBGO_IS_RTEMS_TRUE@am__objects_1 = rtems-task-variable-add.lo
-@LIBGO_IS_AIX_FALSE@@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_FREEBSD_FALSE@@LIBGO_IS_IRIX_FALSE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_NETBSD_FALSE@@LIBGO_IS_SOLARIS_FALSE@am__objects_2 = getncpu-none.lo
-@LIBGO_IS_AIX_TRUE@@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_FREEBSD_FALSE@@LIBGO_IS_IRIX_FALSE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_NETBSD_FALSE@@LIBGO_IS_SOLARIS_FALSE@am__objects_2 = getncpu-aix.lo
-@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_FREEBSD_FALSE@@LIBGO_IS_IRIX_FALSE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_NETBSD_TRUE@@LIBGO_IS_SOLARIS_FALSE@am__objects_2 = getncpu-bsd.lo
-@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_FREEBSD_TRUE@@LIBGO_IS_IRIX_FALSE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_SOLARIS_FALSE@am__objects_2 = getncpu-bsd.lo
-@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_IRIX_FALSE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_SOLARIS_TRUE@am__objects_2 = getncpu-solaris.lo
-@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_IRIX_TRUE@@LIBGO_IS_LINUX_FALSE@am__objects_2 = getncpu-irix.lo
-@LIBGO_IS_DARWIN_TRUE@@LIBGO_IS_LINUX_FALSE@am__objects_2 =  \
-@LIBGO_IS_DARWIN_TRUE@@LIBGO_IS_LINUX_FALSE@	getncpu-bsd.lo
-@LIBGO_IS_LINUX_TRUE@am__objects_2 = getncpu-linux.lo
+@LIBGO_IS_INNO_FALSE@@LIBGO_IS_AIX_FALSE@@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_FREEBSD_FALSE@@LIBGO_IS_IRIX_FALSE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_NETBSD_FALSE@@LIBGO_IS_SOLARIS_FALSE@am__objects_2 = getncpu-none.lo
+@LIBGO_IS_INNO_FALSE@@LIBGO_IS_AIX_TRUE@@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_FREEBSD_FALSE@@LIBGO_IS_IRIX_FALSE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_NETBSD_FALSE@@LIBGO_IS_SOLARIS_FALSE@am__objects_2 = getncpu-aix.lo
+@LIBGO_IS_INNO_FALSE@@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_FREEBSD_FALSE@@LIBGO_IS_IRIX_FALSE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_NETBSD_TRUE@@LIBGO_IS_SOLARIS_FALSE@am__objects_2 = getncpu-bsd.lo
+@LIBGO_IS_INNO_FALSE@@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_FREEBSD_TRUE@@LIBGO_IS_IRIX_FALSE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_SOLARIS_FALSE@am__objects_2 = getncpu-bsd.lo
+@LIBGO_IS_INNO_FALSE@@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_IRIX_FALSE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_SOLARIS_TRUE@am__objects_2 = getncpu-solaris.lo
+@LIBGO_IS_INNO_FALSE@@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_IRIX_TRUE@@LIBGO_IS_LINUX_FALSE@am__objects_2 = getncpu-irix.lo
+@LIBGO_IS_INNO_FALSE@@LIBGO_IS_DARWIN_TRUE@@LIBGO_IS_LINUX_FALSE@am__objects_2 =  \
+@LIBGO_IS_INNO_FALSE@@LIBGO_IS_DARWIN_TRUE@@LIBGO_IS_LINUX_FALSE@	getncpu-bsd.lo
+@LIBGO_IS_INNO_FALSE@@LIBGO_IS_LINUX_TRUE@am__objects_2 = getncpu-linux.lo
+@LIBGO_IS_INNO_TRUE@@LIBGO_IS_LINUX_FALSE@am__objects_2 = getncpu-bsd.lo
 am__objects_3 = aeshash.lo go-assert.lo go-caller.lo go-callers.lo \
 	go-cdiv.lo go-cgo.lo go-construct-map.lo go-ffi.lo \
 	go-fieldtrack.lo go-matherr.lo go-memclr.lo go-memcmp.lo \
@@ -755,11 +756,12 @@
 # Some packages are only needed for tests, so unlike the other
 # internal packages nothing will explicitly depend on them.
 # Force them to be built.
-noinst_DATA = golang_org/x/net/internal/nettest.gox \
-	golang_org/x/net/nettest.gox internal/testenv.gox \
-	internal/trace.gox net/internal/socktest.gox \
-	os/signal/internal/pty.gox runtime/pprof/internal/profile.gox \
-	zdefaultcc.go
+#noinst_DATA = golang_org/x/net/internal/nettest.gox \
+#	golang_org/x/net/nettest.gox internal/testenv.gox \
+#	internal/trace.gox net/internal/socktest.gox \
+#	os/signal/internal/pty.gox runtime/pprof/internal/profile.gox \
+#	zdefaultcc.go
+noinst_DATA =
 @LIBGO_IS_RTEMS_FALSE@rtems_task_variable_add_file = 
 @LIBGO_IS_RTEMS_TRUE@rtems_task_variable_add_file = runtime/rtems-task-variable-add.c
 @LIBGO_IS_AIX_FALSE@@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_FREEBSD_FALSE@@LIBGO_IS_IRIX_FALSE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_NETBSD_FALSE@@LIBGO_IS_SOLARIS_FALSE@runtime_getncpu_file = runtime/getncpu-none.c
@@ -770,6 +772,7 @@
 @LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_IRIX_TRUE@@LIBGO_IS_LINUX_FALSE@runtime_getncpu_file = runtime/getncpu-irix.c
 @LIBGO_IS_DARWIN_TRUE@@LIBGO_IS_LINUX_FALSE@runtime_getncpu_file = runtime/getncpu-bsd.c
 @LIBGO_IS_LINUX_TRUE@runtime_getncpu_file = runtime/getncpu-linux.c
+@LIBGO_IS_INNO_TRUE@runtime_getncpu_file = runtime/getncpu-bsd.c
 runtime_files = \
 	runtime/aeshash.c \
 	runtime/go-assert.c \
@@ -901,9 +904,7 @@
 	golang_org/x/crypto/poly1305 \
 	golang_org/x/net/http2/hpack \
 	golang_org/x/net/idna \
-	golang_org/x/net/internal/nettest \
 	golang_org/x/net/lex/httplex \
-	golang_org/x/net/nettest \
 	golang_org/x/net/proxy \
 	golang_org/x/text/secure/bidirule \
 	golang_org/x/text/transform \
@@ -931,7 +932,6 @@
 	internal/race \
 	internal/singleflight \
 	internal/syscall/unix \
-	internal/testenv \
 	internal/testlog \
 	internal/trace \
 	io \
@@ -956,7 +956,6 @@
 	net/http/httputil \
 	net/http/internal \
 	net/http/pprof \
-	net/internal/socktest \
 	net/mail \
 	net/rpc \
 	net/rpc/jsonrpc \
@@ -1376,7 +1375,6 @@
 	net/http/httputil/check \
 	net/http/internal/check \
 	net/http/pprof/check \
-	net/internal/socktest/check \
 	net/mail/check \
 	net/rpc/check \
 	net/smtp/check \
diff -ru contrib/libgo-10be92754f6dbbd51b390bfdc9250f2b4370d9cb/src/lib/gcc/libgo/Makefile.am inno/libgo/Makefile.am
--- contrib/libgo-10be92754f6dbbd51b390bfdc9250f2b4370d9cb/src/lib/gcc/libgo/Makefile.am	2018-06-01 01:46:52.000000000 +0300
+++ inno/libgo/Makefile.am	2020-07-24 14:10:22.000000000 +0300
@@ -393,14 +393,15 @@
 # Some packages are only needed for tests, so unlike the other
 # internal packages nothing will explicitly depend on them.
 # Force them to be built.
-noinst_DATA = \
-	golang_org/x/net/internal/nettest.gox \
-	golang_org/x/net/nettest.gox \
-	internal/testenv.gox \
-	internal/trace.gox \
-	net/internal/socktest.gox \
-	os/signal/internal/pty.gox \
-	runtime/pprof/internal/profile.gox
+#noinst_DATA = \
+#	golang_org/x/net/internal/nettest.gox \
+#	golang_org/x/net/nettest.gox \
+#	internal/testenv.gox \
+#	internal/trace.gox \
+#	net/internal/socktest.gox \
+#	os/signal/internal/pty.gox \
+#	runtime/pprof/internal/profile.gox
+noinst_DATA = 
 
 if LIBGO_IS_RTEMS
 rtems_task_variable_add_file = runtime/rtems-task-variable-add.c
@@ -408,6 +409,9 @@
 rtems_task_variable_add_file =
 endif
 
+if LIBGO_IS_INNO
+runtime_getncpu_file = runtime/getncpu-bsd.c
+else
 if LIBGO_IS_LINUX
 runtime_getncpu_file = runtime/getncpu-linux.c
 else
@@ -437,6 +441,7 @@
 endif
 endif
 endif
+endif
 
 runtime_files = \
 	runtime/aeshash.c \
@@ -795,9 +800,7 @@
 	golang_org/x/crypto/poly1305 \
 	golang_org/x/net/http2/hpack \
 	golang_org/x/net/idna \
-	golang_org/x/net/internal/nettest \
 	golang_org/x/net/lex/httplex \
-	golang_org/x/net/nettest \
 	golang_org/x/net/proxy \
 	golang_org/x/text/secure/bidirule \
 	golang_org/x/text/transform \
@@ -825,9 +828,7 @@
 	internal/race \
 	internal/singleflight \
 	internal/syscall/unix \
-	internal/testenv \
 	internal/testlog \
-	internal/trace \
 	io \
 	io/ioutil \
 	log \
@@ -850,7 +851,6 @@
 	net/http/httputil \
 	net/http/internal \
 	net/http/pprof \
-	net/internal/socktest \
 	net/mail \
 	net/rpc \
 	net/rpc/jsonrpc \
@@ -1403,7 +1403,6 @@
 	index/suffixarray/check \
 	internal/poll/check \
 	internal/singleflight/check \
-	internal/trace/check \
 	io/ioutil/check \
 	log/syslog/check \
 	math/big/check \
@@ -1421,7 +1420,6 @@
 	net/http/httputil/check \
 	net/http/internal/check \
 	net/http/pprof/check \
-	net/internal/socktest/check \
 	net/mail/check \
 	net/rpc/check \
 	net/smtp/check \
